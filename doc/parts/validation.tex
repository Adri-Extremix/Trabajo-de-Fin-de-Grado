\chapter{Validación y Verificación}\label{chap:validacion}

En este capitulo se presentará la validación y verificación del sistema desarrollado. El objetivo de esta sección es comprobar que el sistema cumple con los requisitos establecidos en el capitulo \chapterref{analisis}. 

La verificación busca comprobar que el sistema cumple con los requisitos establecidos en la fase de análisis \cite{IEEE-Validation-Verification}, mientras que la validación busca comprobar que el sistema cumple con las expectativas del cliente \cite{IEEE-Validation-Verification}. 
Es por esto que se desarrollarán dos tipos de pruebas: pruebas de verificación (\sectionref{verificacion}) y pruebas de validación (\sectionref{validacion}). 

Para ambas pruebas se han diseñado casos de prueba que servirán para comprobar el correcto funcionamiento del sistema. Cada uno de los casos de prueba cuenta con un idenificador único, con el formato \textit{YYY-XX}, donde la primera parte corresponde al tipo de prueba (\textit{VET} para verificación y \textit{VAT} para validación). La siguiente tabla proporciona una plantilla para la descripción de los casos de prueba:

\printtesttemplate

\section{Pruebas de verificación}\label{sec:verificacion}

Para conseguir verificar que el sistema cumple con los requisitos establecidos se han diseñado los siguientes casos de prueba.

    \begin{testCase}{VET}{one}
    {El sistema se encuentra en ejecución}
    {El editor debe de mostrar el código escrito con resaltado de sintaxis}
    {Escribir código en C en el editor}
    {OK}
    {FN-GUI, FN-editor, FN-editor-breakpoint, NF-multiplataforma}
    \begin{enumerate}
        \item Acceder a la URL del sistema desde el navegador
        \item Escribir código en C
        \item Comprobar que el código se muestra con resaltado de sintaxis
    \end{enumerate}
    \end{testCase}

    \begin{testCase}{VET}{two}
        {El sistema se encuentra en ejecución y se accede a la URL}
        {El sistema debe de crear un fichero que contenga el código escrito compilado y un fichero ejecutable}
        {Compilar y ejecutar código en C}
        {OK}
        {FN-fichero-codigo, FN-compilacion, FN-ejecutar, FN-aviso-error-concurrencia, NF-compilador, NF-ejecucion, NF-ejecucion-POSIX, NF-abstraccion-so, NF-abstraccion-arch, NF-sandbox, NF-multiplataforma}
        \begin{enumerate}
            \item Escribir código en C
            \item Compilar el código
            \item Consultar la salida de la compilación
            \item Ejecutar el código
            \item Consultar la salida de la ejecución
        \end{enumerate}
    \end{testCase}

    \begin{testCase}{VET}{three}
        {El sistema se encuentra en ejecución, acceder a la URL y tener un código en C escrito}
        {\NA}
        {Depuración con breakpoints}
        {OK}
        {FN-editor-breakpoint, FN-depurar, FN-continuar-ejecucion, FN-visualizacion-hilos, FN-visualizacion-variables, NF-ejecucion-POSIX, NF-depuracion-c, NF-abstraccion-so, NF-abstraccion-arch, NF-informacion-depuracion, NF-estabilidad, NF-sandbox, NF-multiplataformama}
        \begin{enumerate}
            \item Colocar un breakpoint en el código
            \item Compilar el código
            \item Pasar a modo depuración
            \item Comenzar la depuración
            \item Observar que el programa se ha detenido en el breakpoint
            \item Comprobar que se muestra la información al completo del estado del programa en el momento de la parada
            \item Continuar la ejecución del programa
            \item Comprobar que se ha finalizado la ejecución del programa
        \end{enumerate}
    \end{testCase}

    \begin{testCase}{VET}{four}
        {El sistema se encuentra en ejecución, acceder a la URL, tener un código en C compilado con un breakpoint y encontrarse en modo depuración}
        {\NA}
        {Depuración con paso a paso}
        {OK}
        {FN-editor-breakpoint, FN-depurar, FN-step-over, FN-step-into, FN-step-out, FN-visualizacion-hilos, FN-visualizacion-variables, NF-ejecucion-POSIX, NF-depuracion-c, NF-abstraccion-so, NF-abstraccion-arch, NF-informacion-depuracion, NF-estabilidad, NF-sandbox, NF-multiplataforma}
        
        \begin{enumerate}
            \item Comenzar la depuración
            \item Observar que el programa se ha detenido en el breakpoint
            \item Realizar un step-over del hilo seleccionado
            \item Comprobar que solo ha avanzado el hilo seleccionado
            \item Realizar un step-into del hilo seleccionado
            \item Comprobar que se ha entrado en la función del código del hilo seleccionado
            \item Realizar un step-out del hilo seleccionado
            \item Comprobar que se ha salido de la función del código del hilo seleccionado
        \end{enumerate}
    \end{testCase}

    \begin{testCase}{VET}{five}
        {El sistema se encuentra en ejecución, acceder a la URL, tener un código en C compilado con varios breakpoints y encontrarse en modo depuración}
        {\NA}
        {Depuración con breakpoints con rebobinado}
        {OK}
        {FN-editor-breakpoint, FN-depurar, FN-rebobinar, FN-visualizacion-hilos, FN-visualizacion-variables, NF-ejecucion-POSIX, NF-depuracion-c, NF-abstraccion-so, NF-abstraccion-arch, NF-informacion-depuracion, NF-estabilidad, NF-sandbox, NF-multiplataforma}
        \begin{enumerate}
            \item Iniciar la depuración
            \item Observar que el programa se ha detenido en el breakpoint
            \item Comprobar que se muestra la información al completo del estado del programa en el momento de la parada
            \item Avanzar la ejecución del programa hasta el siguiente breakpoint
            \item Observar que el programa se ha detenido en el siguiente breakpoint
            \item Comprobar que se muestra la información al completo del estado del programa en el momento de la parada
            \item Rebobinar la ejecución, volviendo al breakpoint anterior
            \item Comprobar que se la información que se muestra es la misma que en el momento de la anterior parada
        \end{enumerate}
    \end{testCase}

    \begin{testCase}{VET}{six}
        {El sistema se encuentra en ejecución, acceder a la URL, tener un código en C compilado con un breakpoint y encontrarse en modo depuración}
        {\NA}
        {Depuración paso a paso con rebobinado}
        {OK}
        {FN-editor-breakpoint, FN-depurar, FN-rebobinar, FN-visualizacion-hilos, FN-visualizacion-variables, NF-ejecucion-POSIX, NF-depuracion-c, NF-abstraccion-so, NF-abstraccion-arch, NF-informacion-depuracion, NF-estabilidad, NF-sandbox, NF-multiplataforma}
        \begin{enumerate}
            \item Iniciar la depuración
            \item Avanzar la ejecución del programa con un step-over
            \item Rebobinar la ejecución con un rebobinado del step-over
            \item Comprobar que el programa se encuentra en el mismo estado que antes de realizar el step-over
            \item Avanzar la ejecución del programa con un step-into
            \item Rebobinar la ejecución con un rebobinado del step-into
            \item Comprobar que el programa se encuentra en el mismo estado que antes de realizar el step-into
            \item Avanzar la ejecución del programa con un step-out
            \item Rebobinar la ejecución con un rebobinado del step-out
            \item Comprobar que el programa se encuentra en el mismo estado que antes de realizar el step-out
        \end{enumerate}
    \end{testCase}
    
    \begin{testCase}{VET}{seven}
        {El sistema se encuentra en ejecución, acceder a la URL}
        {\NA}
        {Evolución de las variables globales durante la ejecución del programa}
        {OK}
        {FN-depurar, FN-visualizacion-hilos, FN-visualizacion-variables, FN-visualizacion-evolucion, NF-ejecucion-POSIX, NF-depuracion-c, NF-abstraccion-so, NF-abstraccion-arch, NF-informacion-depuracion, NF-estabilidad, NF-sandbox, NF-multiplataforma}
        \begin{enumerate}
            \item Tener un código en C donde varios hilos accedan a una variable global
            \item Colocar varios breakpoints en el código
            \item Iniciar la depuración
            \item Observar que el programa se ha parado en el primer breakpoint y que la variable global ya ha sido modificada por un hilo
            \item Avanzar la ejecución del programa hasta el siguiente breakpoint
            \item Observar que el programa se ha parado en el segundo breakpoint y que la variable global ya ha sido modificada por otro hilo, mostrando el valor anterior y el nuevo valor
        \end{enumerate}
    \end{testCase}

En la tabla \tabref{trazabilidadVET-SR} se presenta la tabla de trazabilidad entre los casos de prueba de verificación y los requisitos de software del sistema. Esta tabla permite comprobar que todos los requisitos de software han sido cubiertos por al menos un caso de prueba.
\FloatBarrier
    
\begin{landscape}
\begin{table}[htb]
    \ttabbox[\FBwidth]
      {\caption{Trazabilidad de los casos de prueba de verificación respecto a los requisitos funcionales}\label{tab:trazabilidadVET-SR}}
      {\traceabilityVETSR}
  \end{table}
\end{landscape}

\section{Pruebas de validación}\label{sec:validacion}

Para conseguir validar que el sistema cumple con las expectativas del cliente se han diseñado los siguientes casos de prueba.

\begin{testCase}{VAT}{one}
    {El sistema se encuentra en ejecución}
    {\NA}
    {La herramienta debe de permitir la edición de código en C}
    {OK}
    {CA-escribir-codigo, CA-c-highlight, RE-multiplataforma}
    \begin{enumerate}
        \item Acceder a la URL del sistema desde el navegador de cualquier dispositivo
        \item Escribir código en C
        \item Comprobar que el código se muestra con resaltado de sintaxis
    \end{enumerate}
\end{testCase}

\begin{testCase}{VAT}{two}
    {El sistema se encuentra en ejecución y se accede a la URL}
    {\NA}
    {La herramienta debe de permitir la compilación y ejecución de código en C}
    {OK}
    {CA-compilar-codigo, CA-ejecutar-codigo, CA-aviso-error-concurrencia, RE-compilar-c, RE-ejecutar-c, RE-abstraccion-so, RE-abstraccion-arch, RE-abstraccion-comp}
    \begin{enumerate}
        \item Escribir código en C
        \item Compilar el código
        \item Consultar la salida de la compilación
        \item Comprobar que se muestra un aviso en caso de error de concurrencia
        \item Ejecutar el código
        \item Consultar la salida de la ejecución
        \item Comprobar que se ha ejecutado correctamente
    \end{enumerate}
\end{testCase}

\begin{testCase}{VAT}{two}
    {El sistema se encuentra en ejecución y se accede a la URL}
    {\NA}
    {La herramienta debe de avisar en caso de errores de concurrencia}
    {OK}
    {CA-compilar-codigo, CA-aviso-error-concurrencia, RE-compilar-c, RE-abstraccion-so, RE-abstraccion-arch, RE-abstraccion-comp}
    \begin{enumerate}
        \item Escribir código en C con errores de concurrencia
        \item Compilar el código
        \item Comprobar que se muestra un aviso en caso de error de concurrencia
    \end{enumerate}
\end{testCase}

\begin{testCase}{VAT}{three}
    {El sistema se encuentra en ejecución, acceder a la URL y tener un código en C escrito}
    {\NA}
    {La herramienta debe de permitir la depuración de código en C}
    {OK}
    {CA-sistema, CA-depurar-codigo, CA-depurar-parar-ejecucion, CA-visibilidad-hilos, CA-visibilidad-variables, RE-depuracion-c, RE-abstraccion-so, RE-abstraccion-arch, RE-abstraccion-memoria, RE-abstraccion-codigo-no-propio}
    \begin{enumerate}
        \item Colocar un breakpoint en el código
        \item Compilar el código
        \item Pasar a modo depuración
        \item Comenzar la depuración
        \item Observar que el programa se ha detenido en el breakpoint
        \item Comprobar que se muestra la información al completo del estado del programa en el momento de la parada
        \item Continuar la ejecución del programa
        \item Comprobar que se ha finalizado la ejecución del programa
    \end{enumerate}
\end{testCase}

\begin{testCase}{VAT}{four}
    {El sistema se encuentra en ejecución, acceder a la URL, tener un código en C compilado con un breakpoint y encontrarse en modo depuración}
    {\NA}
    {La herramienta debe de permitir la depuración paso a paso de código en C}
    {OK}
    {CA-sistema, CA-depurar-codigo, CA-depurar-paso, CA-visibilidad-hilos, CA-visibilidad-variables, RE-depuracion-c, RE-abstraccion-so, RE-abstraccion-arch, RE-abstraccion-memoria, RE-abstraccion-codigo-no-propio}
    \begin{enumerate}
        \item Comenzar la depuración
        \item Observar que el programa se ha detenido en el breakpoint
        \item Continuar la ejecución del programa avanzando un paso
        \item Comprobar que se ha avanzado un paso en la ejecución del programa para el hilo seleccionado
    \end{enumerate}
\end{testCase}
    
\begin{testCase}{VAT}{five}
    {El sistema se encuentra en ejecución, acceder a la URL, tener un código en C compilado con varios breakpoints y encontrarse en modo depuración}
    {\NA}
    {La herramienta debe de permitir retroceder la ejecución del programa durante la depuración}
    {OK}
    {CA-sistema, CA-depurar-codigo, CA-visibilidad-hilos, CA-visibilidad-variables, RE-depuracion-c, RE-abstraccion-so, RE-abstraccion-arch, RE-abstraccion-memoria, RE-abstraccion-codigo-no-propio}
    \begin{enumerate}
        \item Iniciar la depuración
        \item Observar que el programa se ha detenido en el primer breakpoint
        \item Avanzar la ejecución del programa hasta el siguiente breakpoint
        \item Observar que el programa se ha detenido en el segundo breakpoint
        \item Rebobinar la ejecución, volviendo al breakpoint anterior
        \item Comprobar que la información que se muestra es la misma que en el momento de la anterior parada
    \end{enumerate}
\end{testCase}

\begin{testCase}{VAT}{six}
    {El sistema se encuentra en ejecución, acceder a la URL, tener un código en C compilado con un breakpoint y encontrarse en modo depuración}
    {\NA}
    {La herramienta debe de permitir ver la evolución de las variables globales durante la ejecución del programa}
    {OK}
    {CA-sistema, CA-depurar-codigo, CA-visibilidad-hilos, CA-visibilidad-variables, CA-evolucion-hilos, RE-depuracion-c, RE-abstraccion-so, RE-abstraccion-arch, RE-abstraccion-memoria, RE-abstraccion-codigo-no-propio}
    \begin{enumerate}
        \item Tener un código en C donde varios hilos accedan a una variable global
        \item Colocar varios breakpoints en el código
        \item Iniciar la depuración
        \item Observar que el programa se ha parado en el primer breakpoint y que la variable global ya ha sido modificada por un hilo
        \item Avanzar la ejecución del programa hasta el siguiente breakpoint
        \item Observar que el programa se ha parado en el segundo breakpoint y que la variable global ya ha sido modificada por otro hilo, mostrando el valor anterior y el nuevo valor
    \end{enumerate}
\end{testCase}

\begin{testCase}{VAT}{seven}
    {La herramienta se encuentra en ejecución y se accede a la URL}
    {\NA}
    {Un mal uso de la herramienta no debe de afectar al sistema}
    {OK}
    {CA-sistema, CA-compilar-codigo, CA-ejecutar-codigo, RE-seguridad}
    \begin{enumerate}
        \item Se debe de escribir un código malicioso en el editor, como por ejemplo una \textit{bomba fork}
        \item Compilar el código
        \item Ejecutar el código
        \item Comprobar que el sistema no se ve afectado por el código malicioso        
    \end{enumerate}
\end{testCase}
    


En la tabla \tabref{trazabilidadVAT-UR} se presenta la tabla de trazabilidad entre los casos de prueba de validación y los requisitos de usuario del sistema. Esta tabla permite comprobar que todos los requisitos de usuario han sido cubiertos por al menos un caso de prueba.
\FloatBarrier

\begin{landscape}
    \begin{table}[htb]
        \ttabbox[\FBwidth]
          {\caption{Trazabilidad de los casos de prueba de validación respecto a los requisitos de usuario}\label{tab:trazabilidadVAT-UR}}
          {\traceabilityVATUR}
      \end{table}
    \end{landscape}
    
